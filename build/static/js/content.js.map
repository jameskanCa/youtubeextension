{"version":3,"sources":["../webpack/bootstrap","requests/StoreReview.js","Utils/YoutubeCategoryMapping.js","Utils/TimeCalculations.js","ObjectLibrary/InitialSession.js","requests/YoutubeCaption.js","ModalExtension/Components/StartOfVideoForm.jsx","ObjectLibrary/EndSession.js","ModalExtension/Components/EndOfVideoForm.jsx","ModalExtension/Models/VideoMetadata.js","content.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","StoreReview","classCallCheck","this","createClass","_storeInitialReview","asyncToGenerator","regenerator_default","a","mark","_callee","session","wrap","_context","prev","next","fetch","method","headers","Content-Type","Accept","Access-Control-Request-Headers","Access-Control-Request-Method","body","JSON","stringify","sent","t0","console","log","stop","_x","arguments","_storeEndReview","_callee2","endSession","id","_context2","_x2","_x3","YoutubeCategoryMapping","number","category","TimeCalculations","startTime","endTime","expectedDuration","obtainTotalActualVideoDuration","time","readableTime","moment","hour","format","durationInSeconds","obtainDurationSeconds","seconds","asSeconds","duration","durationSeconds","minutes","Math","trunc","concat","InitialSession","videoId","videoTitle","purposeDescription","finishedVideo","obtainCurrentTime","YoutubeCaption","languageType","Promise","resolve","reject","chrome","runtime","sendMessage","response","xmlResult","convertedJson","xmlConverter","xml2json","compact","spaces","captionPara","parse","transcript","text","reduce","textAccumulator","captionObject","_text","languageTrackOptions","transcript_list","track","option","map","attributes","lang_code","_attributes","lang_translated","Panel","Collapse","ChromeClass","props","_this","possibleConstructorReturn","getPrototypeOf","state","videoType","purpose","initialRating","languageOptions","selectedLanguage","onChange","setState","onClick","_ref","message","info","requestVideoLanguageOptions","options","url","video_id","split","indexOf","substring","Session","extractVideoId","videoMetadata","storeInitialReview","userId","requestVideoCaption","captionForVideo","onClose","notification","open","description","icon","react_default","createElement","type","style","color","zIndex","marginTop","isProcastinationVideo","Number","videoCategory","Fragment","es_alert","showIcon","divider","orientation","menu","language","Item","_this2","warnProcastination","es_form","label","input","placeholder","event","target","dropdown","overlay","formatLanguageOptions","className","href","es_button","onSave","collapse","bordered","header","videoDescription","formatSecondsToMinutes","videoDuration","getYoutubeCategoryText","React","Component","EndSession","notes","endRating","storeEndReview","VideoMetadata","Main","visibleModal","pauseVideo","endOfVideo","dataBaseRef","obtainMetadata","request","metadata","currentMetadata","currentURL","snippet","title","contentDetails","categoryId","obtainUserProfile","Error","modalCheck","document","getElementsByClassName","click","setVisible","saveDbEntryRef","reference","handleInitialOk","e","readyToPause","querySelector","addEventListener","handleEndOk","onMessage","addListener","prevProp","prevState","setTimeout","removeListener","lib_default","head","rel","getURL","lib","_ref3","modal","visible","onOk","footer","maskClosable","closable","StartOfVideoForm_ChromeClass","getDatabaseRef","EndOfVideoForm_ChromeClass","databaseKey","app","appendChild","ReactDOM","render","content_Main"],"mappings":"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","file":"static/js/content.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([300,0,3]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export class StoreReview {\r\n\tstatic async storeInitialReview(session) {\r\n\t\ttry {\r\n\t\t\tlet result = await fetch('http://localhost:3001/storeInitialReview', {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAccept: '*',\r\n\t\t\t\t\t'Access-Control-Request-Headers': '*',\r\n\t\t\t\t\t'Access-Control-Request-Method': '*'\r\n\t\t\t\t},\r\n\t\t\t\tmode: 'cors',\r\n\t\t\t\tbody: JSON.stringify(session)\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async storeEndReview(endSession, id) {\r\n\t\ttry {\r\n\t\t\tawait fetch('http://localhost:3001/storeEndSessionInfo/' + id, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAccept: '*',\r\n\t\t\t\t\t'Access-Control-Request-Headers': '*',\r\n\t\t\t\t\t'Access-Control-Request-Method': '*'\r\n\t\t\t\t},\r\n\t\t\t\tmode: 'cors',\r\n\t\t\t\tbody: JSON.stringify(endSession)\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n}\r\n","export class YoutubeCategoryMapping {\r\n\tstatic getYoutubeCategoryText(number) {\r\n\t\tswitch (number) {\r\n\t\t\tcase 1:\r\n\t\t\t\treturn 'Film & Animation';\r\n\t\t\tcase 2:\r\n\t\t\t\treturn 'Autos & Vehicles';\r\n\t\t\tcase 10:\r\n\t\t\t\treturn 'Music';\r\n\t\t\tcase 15:\r\n\t\t\t\treturn 'Pets & Animals';\r\n\t\t\tcase 17:\r\n\t\t\t\treturn 'Sports';\r\n\t\t\tcase 18:\r\n\t\t\t\treturn 'Short Movies';\r\n\t\t\tcase 19:\r\n\t\t\t\treturn 'Travel & Events';\r\n\t\t\tcase 20:\r\n\t\t\t\treturn 'Gaming';\r\n\t\t\tcase 21:\r\n\t\t\t\treturn 'Videoblogging';\r\n\t\t\tcase 22:\r\n\t\t\t\treturn 'People & Blogs';\r\n\t\t\tcase 23:\r\n\t\t\t\treturn 'Comedy';\r\n\t\t\tcase 24:\r\n\t\t\t\treturn 'Entertainment';\r\n\t\t\tcase 25:\r\n\t\t\t\treturn 'News & Politics';\r\n\t\t\tcase 26:\r\n\t\t\t\treturn 'Howto & Styles';\r\n\t\t\tcase 27:\r\n\t\t\t\treturn 'Education';\r\n\t\t\tcase 28:\r\n\t\t\t\treturn 'Science & Technology';\r\n\t\t\tcase 29:\r\n\t\t\t\treturn 'Nonprofits & Activism';\r\n\t\t\tcase 30:\r\n\t\t\t\treturn 'Movies';\r\n\t\t\tcase 31:\r\n\t\t\t\treturn 'Anime / Animation';\r\n\t\t\tcase 32:\r\n\t\t\t\treturn 'Action / Adventure';\r\n\t\t\tcase 33:\r\n\t\t\t\treturn 'Classics';\r\n\t\t\tcase 34:\r\n\t\t\t\treturn 'Comedy';\r\n\t\t\tcase 35:\r\n\t\t\t\treturn 'Documentary';\r\n\t\t\tcase 36:\r\n\t\t\t\treturn 'Drama';\r\n\t\t\tcase 37:\r\n\t\t\t\treturn 'Family';\r\n\t\t\tcase 38:\r\n\t\t\t\treturn 'Foreign';\r\n\t\t\tcase 39:\r\n\t\t\t\treturn 'Horror';\r\n\t\t\tcase 40:\r\n\t\t\t\treturn 'Sci - Fi / Fantasy';\r\n\t\t\tcase 41:\r\n\t\t\t\treturn 'Thriller';\r\n\t\t\tcase 42:\r\n\t\t\t\treturn 'Shorts';\r\n\t\t\tcase 43:\r\n\t\t\t\treturn 'Shows';\r\n\t\t\tcase 44:\r\n\t\t\t\treturn 'Trailers';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Unknown';\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isProcastinationVideo(category) {\r\n\t\tif (\r\n\t\t\tcategory === 1 ||\r\n\t\t\tcategory === 2 ||\r\n\t\t\tcategory === 10 ||\r\n\t\t\tcategory === 15 ||\r\n\t\t\tcategory === 17 ||\r\n\t\t\tcategory === 18 ||\r\n\t\t\tcategory === 19 ||\r\n\t\t\tcategory === 20 ||\r\n\t\t\tcategory === 23 ||\r\n\t\t\tcategory === 24 ||\r\n\t\t\tcategory === 25 ||\r\n\t\t\tcategory === 29 ||\r\n\t\t\tcategory === 30 ||\r\n\t\t\tcategory === 31 ||\r\n\t\t\tcategory === 32 ||\r\n\t\t\tcategory === 33 ||\r\n\t\t\tcategory === 34 ||\r\n\t\t\tcategory === 36 ||\r\n\t\t\tcategory === 37 ||\r\n\t\t\tcategory === 39 ||\r\n\t\t\tcategory === 40 ||\r\n\t\t\tcategory === 41 ||\r\n\t\t\tcategory === 42 ||\r\n\t\t\tcategory === 43 ||\r\n\t\t\tcategory === 44\r\n\t\t) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\r\n","import * as moment from 'moment';\r\nexport default class TimeCalculations {\r\n\t/*\r\n    Calculate the total duration someone spent on a video\r\n    which is independent of total time spent on the actual youtube page. */\r\n\tstatic obtainTotalActualVideoDuration(startTime, endTime) {\r\n\t\tconst actualVideoDuration = endTime - startTime;\r\n\t\treturn actualVideoDuration;\r\n\t}\r\n\r\n\t/**\r\n     * \r\n     * @param {*} startTime \r\n     * @param {*} endTime \r\n     * @param {*} expectedDuration \r\n     */\r\n\tstatic obtainDifferenceInDurationExpectation(startTime, endTime, expectedDuration) {\r\n\t\tconst actualVideoDuration = this.obtainTotalActualVideoDuration(startTime, endTime);\r\n\t\tconst durationDifferences = actualVideoDuration - expectedDuration;\r\n\t\treturn durationDifferences;\r\n\t}\r\n\r\n\tstatic formatReadableTime(time) {\r\n\t\tconst readableTime = moment(time);\r\n\t\tif (readableTime.hour !== null || readableTime !== 0) {\r\n\t\t\treturn readableTime.format('HH:mm:ss');\r\n\t\t} else {\r\n\t\t\treturn readableTime.format('mm:ss');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic formatReadableDuration(time) {\r\n\t\tconst durationInSeconds = this.obtainDurationSeconds(time);\r\n\t\tconst formattedDuration = moment().seconds(durationInSeconds).format('H mm:ss');\r\n\t\treturn formattedDuration;\r\n\t}\r\n\r\n\tstatic obtainDurationSeconds(time) {\r\n\t\tconst readableDuration = moment.duration(time, moment.ISO_8601);\r\n\t\treturn readableDuration.asSeconds();\r\n\t}\r\n\r\n\tstatic obtainCurrentTime() {\r\n\t\treturn moment().format('MMM/DD/YYYY HH:mm:ss');\r\n\t}\r\n\r\n\tstatic formatSecondsToMinutes(duration) {\r\n\t\tconst durationSeconds = this.obtainDurationSeconds(duration);\r\n\t\tconst seconds = durationSeconds % 60;\r\n\t\tconst minutes = Math.trunc(durationSeconds / 60);\r\n\t\treturn `${minutes} Minutes ${seconds} Seconds`;\r\n\t}\r\n}\r\n","import TimeCalculations from '../Utils/TimeCalculations';\r\n\r\nexport default class InitialSession {\r\n\tvideoId;\r\n\tvideoTitle;\r\n\tpurposeDescription;\r\n\tstartTime;\r\n\tfinishedVideo;\r\n\r\n\tconstructor(videoId, videoTitle, purposeDescription, finishedVideo) {\r\n\t\tthis.videoTitle = videoTitle;\r\n\t\tthis.videoId = videoId;\r\n\t\tthis.purposeDescription = purposeDescription;\r\n\t\tthis.startTime = TimeCalculations.obtainCurrentTime();\r\n\t\tthis.finishedVideo = finishedVideo;\r\n\t}\r\n}\r\n","/*global chrome*/\r\nimport xmlConverter from 'xml-js';\r\n\r\nexport default class YoutubeCaption {\r\n\tstatic requestVideoCaption(languageType) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tchrome.runtime.sendMessage({ method: 'getCaption', languageType: languageType }, function(response) {\r\n\t\t\t\tif (response.xmlResult != null) {\r\n\t\t\t\t\tlet convertedJson = xmlConverter.xml2json(response.xmlResult, { compact: true, spaces: 4 });\r\n\t\t\t\t\tlet captionResult = JSON.parse(convertedJson);\r\n\t\t\t\t\tlet captionPara = captionResult.transcript.text.reduce((textAccumulator, captionObject) => {\r\n\t\t\t\t\t\treturn textAccumulator.concat(captionObject._text).concat(' ');\r\n\t\t\t\t\t}, '');\r\n\t\t\t\t\treturn resolve(captionPara);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treject('Empty xmlResult');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tstatic requestVideoLanguageOptions() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tchrome.runtime.sendMessage({ method: 'getLanguageOptions' }, function(response) {\r\n\t\t\t\tif (response.xmlResult != null) {\r\n\t\t\t\t\tlet convertedJson = xmlConverter.xml2json(response.xmlResult, { compact: true, spaces: 4 });\r\n\t\t\t\t\tlet languageTrackOptions = JSON.parse(convertedJson);\r\n\t\t\t\t\tif (languageTrackOptions.transcript_list.track != null) {\r\n\t\t\t\t\t\tlet option = languageTrackOptions.transcript_list.track.map((attributes) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tlang_code: attributes._attributes.lang_code,\r\n\t\t\t\t\t\t\t\tlang_translated: attributes._attributes.lang_translated\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn resolve(option);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn resolve([]);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treject('Empty xmlResult');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","/*global chrome*/\r\n/* src/content.js */\r\nimport React from 'react';\r\nimport { Form, Input, Button, Collapse, Alert, Divider, notification, Icon, Menu, Dropdown, message } from 'antd';\r\nimport { StoreReview } from '../../requests/StoreReview';\r\nimport '../../content.scss';\r\nimport { YoutubeCategoryMapping } from '../../Utils/YoutubeCategoryMapping';\r\nimport InitialSession from '../../ObjectLibrary/InitialSession';\r\nimport TimeCalculations from '../../Utils/TimeCalculations';\r\nimport YoutubeCaption from '../../requests/YoutubeCaption';\r\n\r\nconst Panel = Collapse.Panel;\r\n\r\nexport default class ChromeClass extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tstate = {\r\n\t\tvideoType: '',\r\n\t\tpurpose: '',\r\n\t\tinitialRating: '',\r\n\t\tlanguageOptions: [],\r\n\t\tselectedLanguage: ''\r\n\t};\r\n\r\n\tonChange = (value) => {\r\n\t\tthis.setState({ purpose: value });\r\n\t};\r\n\r\n\tasync componentDidMount() {\r\n\t\tlet options = await YoutubeCaption.requestVideoLanguageOptions();\r\n\t\tthis.setState({ languageOptions: options });\r\n\t}\r\n\r\n\textractVideoId(url) {\r\n\t\tlet video_id = url.split('v=')[1];\r\n\t\tif (video_id.indexOf('&') !== null && video_id.indexOf('&') != -1) {\r\n\t\t\treturn video_id.substring(0, video_id.indexOf('&'));\r\n\t\t}\r\n\r\n\t\treturn video_id;\r\n\t}\r\n\r\n\tasync onSave() {\r\n\t\tif (this.state.purpose == null || this.state.purpose.length < 25) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst Session = [\r\n\t\t\tnew InitialSession(\r\n\t\t\t\tthis.extractVideoId(this.props.videoMetadata.url),\r\n\t\t\t\tthis.props.videoMetadata.videoTitle,\r\n\t\t\t\tthis.state.purpose,\r\n\t\t\t\tfalse\r\n\t\t\t)\r\n\t\t];\r\n\r\n\t\tawait StoreReview.storeInitialReview({ userId: this.props.userId, session: Session });\r\n\r\n\t\t// Get Youtube Caption\r\n\t\tif (this.state.languageOptions[0] != null) {\r\n\t\t\tlet captionForVideo = await YoutubeCaption.requestVideoCaption(this.state.selectedLanguage);\r\n\t\t\tconsole.log(captionForVideo);\r\n\t\t}\r\n\r\n\t\tthis.props.onClose();\r\n\t\tnotification.open({\r\n\t\t\tmessage: 'Saved Succesfully',\r\n\t\t\tdescription: 'Remember to use your time wisely!',\r\n\t\t\ticon: <Icon type=\"smile\" style={{ color: '#108ee9' }} />,\r\n\t\t\tstyle: { zIndex: 2147483647, marginTop: 100 }\r\n\t\t});\r\n\t}\r\n\r\n\twarnProcastination() {\r\n\t\tif (!YoutubeCategoryMapping.isProcastinationVideo(Number(this.props.videoMetadata.videoCategory))) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Procastination Warning\"\r\n\t\t\t\t\tdescription=\"Are you sure you want to view this video? You might just be procastinating!\"\r\n\t\t\t\t\ttype=\"warning\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t\t<Divider orientation=\"left\">Content</Divider>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\tonClick = ({ key }) => {\r\n\t\tmessage.info(`Click on item ${key}`);\r\n\t\tconsole.log(key);\r\n\t\tthis.setState({ selectedLanguage: key });\r\n\t};\r\n\r\n\tformatLanguageOptions() {\r\n\t\treturn (\r\n\t\t\t<Menu onClick={this.onClick}>\r\n\t\t\t\t{this.state.languageOptions.map((language) => {\r\n\t\t\t\t\treturn <Menu.Item key={language.lang_code}>{language.lang_translated}</Menu.Item>;\r\n\t\t\t\t})}\r\n\t\t\t</Menu>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.warnProcastination()}\r\n\t\t\t\t{this.props.videoMetadata.videoTitle}\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Form.Item label={'Purpose of Watching'}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tplaceholder=\"Purpose of watching this video.\"\r\n\t\t\t\t\t\t\tvalue={this.state.purpose}\r\n\t\t\t\t\t\t\tonChange={(event) => this.onChange(event.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Dropdown overlay={this.formatLanguageOptions()}>\r\n\t\t\t\t\t<a className=\"ant-dropdown-link\" href=\"#\">\r\n\t\t\t\t\t\tSelect Transcript Language <Icon type=\"down\" />\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.onSave();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tLog Session\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Divider orientation=\"left\">Video Info</Divider>\r\n\t\t\t\t<Collapse bordered={false}>\r\n\t\t\t\t\t<Panel header=\"Description\" key=\"1\">\r\n\t\t\t\t\t\t{`Description: ${this.props.videoMetadata.videoDescription}`}\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t\t<Panel header=\"Duration\" key=\"2\">\r\n\t\t\t\t\t\t{`Duration: ${TimeCalculations.formatSecondsToMinutes(this.props.videoMetadata.videoDuration)}`}\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t\t<Panel header=\"Category\" key=\"3\">\r\n\t\t\t\t\t\t{`Category: ${YoutubeCategoryMapping.getYoutubeCategoryText(\r\n\t\t\t\t\t\t\tNumber(this.props.videoMetadata.videoCategory)\r\n\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t\t<Panel header=\"Link\" key=\"4\">\r\n\t\t\t\t\t\t{`From link: ${this.props.videoMetadata.url}`}\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t</Collapse>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import TimeCalculations from '../Utils/TimeCalculations';\r\nexport default class EndSession {\r\n\tuserId;\r\n\tfinishedVideo;\r\n\tendTime;\r\n\tnotes;\r\n\tconstructor(userId, finishedVideo, notes) {\r\n\t\tthis.userId = userId;\r\n\t\tthis.finishedVideo = finishedVideo;\r\n\t\tthis.endTime = TimeCalculations.obtainCurrentTime();\r\n\t\tthis.notes = notes;\r\n\t}\r\n}\r\n","/*global chrome*/\r\n/* src/content.js */\r\nimport React from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { StoreReview } from '../../requests/StoreReview';\r\nimport '../../content.scss';\r\nimport EndSession from '../../ObjectLibrary/EndSession';\r\n\r\nexport default class ChromeClass extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tstate = {\r\n\t\tvideoType: '',\r\n\t\tnotes: '',\r\n\t\tendRating: ''\r\n\t};\r\n\r\n\tonChange = (value) => {\r\n\t\tthis.setState({ notes: value });\r\n\t};\r\n\r\n\textractVideoId(url) {\r\n\t\tlet video_id = url.split('v=')[1];\r\n\t\tif (video_id.indexOf('&') !== null && video_id.indexOf('&') != -1) {\r\n\t\t\treturn video_id.substring(0, video_id.indexOf('&'));\r\n\t\t}\r\n\r\n\t\treturn video_id;\r\n\t}\r\n\r\n\tonSave = async () => {\r\n\t\tconst endSession = new EndSession(this.props.userId, true, this.state.notes);\r\n\t\tStoreReview.storeEndReview(endSession, this.extractVideoId(this.props.videoMetadata.url));\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.props.videoMetadata.videoTitle}\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Form.Item label={'What did you learn?'}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tplaceholder=\"Enter notes\"\r\n\t\t\t\t\t\t\tvalue={this.state.notes}\r\n\t\t\t\t\t\t\tonChange={(event) => this.onChange(event.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.onSave();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tLog Session\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","export default class VideoMetadata {\r\n\turl = '';\r\n\tvideoTitle = '';\r\n\tvideoDuration = 0;\r\n\tvideoDescription = '';\r\n\tvideoCategory = 0;\r\n\tconstructor(url, videoTitle, videoDuration, videoDescription, videoCategory) {\r\n\t\tthis.url = url;\r\n\t\tthis.videoTitle = videoTitle;\r\n\t\tthis.videoDuration = videoDuration;\r\n\t\tthis.videoDescription = videoDescription;\r\n\t\tthis.videoCategory = videoCategory;\r\n\t}\r\n}\r\n","/*global chrome*/\r\n/* src/content.js */\r\n\r\nimport Frame, { FrameContextConsumer } from 'react-frame-component';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport StartOfVideoForm from './ModalExtension/Components/StartOfVideoForm';\r\nimport EndOfVideoForm from './ModalExtension/Components/EndOfVideoForm';\r\nimport { Modal } from 'antd';\r\nimport VideoMetadata from './ModalExtension/Models/VideoMetadata';\r\nimport './content.scss';\r\n\r\nclass Main extends React.Component {\r\n\tstate = {\r\n\t\tuserId: '',\r\n\t\tvisibleModal: false,\r\n\t\tpauseVideo: false,\r\n\t\turl: '',\r\n\t\tvideoMetadata: {},\r\n\t\tendOfVideo: false,\r\n\t\tdataBaseRef: ''\r\n\t};\r\n\r\n\tobtainMetadata = (request) => {\r\n\t\tif (request.type === 'updatedLink') {\r\n\t\t\tthis.setState({ videoMetadata: request.metadata }, async () => {\r\n\t\t\t\tconst currentMetadata = new VideoMetadata(\r\n\t\t\t\t\trequest.currentURL,\r\n\t\t\t\t\tthis.state.videoMetadata.snippet.title,\r\n\t\t\t\t\tthis.state.videoMetadata.contentDetails.duration,\r\n\t\t\t\t\tthis.state.videoMetadata.snippet.description,\r\n\t\t\t\t\tthis.state.videoMetadata.snippet.categoryId\r\n\t\t\t\t);\r\n\t\t\t\tthis.setState({ videoMetadata: currentMetadata, visibleModal: true });\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tobtainUserProfile = (request) => {\r\n\t\tif (request.type === 'userProfile') {\r\n\t\t\tthis.setState({ userId: request.userId }, async () => {\r\n\t\t\t\tif (this.state.userId === null || this.state.userId === '') {\r\n\t\t\t\t\tthrow new Error('cannot handle empty userId');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tchrome.runtime.onMessage.addListener(this.obtainMetadata);\r\n\t\tchrome.runtime.onMessage.addListener(this.obtainUserProfile);\r\n\t\tchrome.runtime.onMessage.addListener(this.modalCheck);\r\n\t}\r\n\r\n\tcomponentWillUpdate(prevProp, prevState) {\r\n\t\tif (prevState.url !== this.state.url) {\r\n\t\t\tsetTimeout(this.pauseVideo, 2000);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tchrome.runtime.onMessage.removeListener(this.obtainMetadata);\r\n\t\tchrome.runtime.onMessage.removeListener(this.obtainUserProfile);\r\n\t\tchrome.runtime.onMessage.removeListener(this.modalCheck);\r\n\t}\r\n\r\n\tmodalCheck = (request) => {\r\n\t\tif (request.type === 'noModal') {\r\n\t\t\tif (this.state.visibleModal === true) {\r\n\t\t\t\tthis.setState({ visibleModal: false });\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tpauseVideo = () => {\r\n\t\tdocument.getElementsByClassName('ytp-play-button ytp-button')[0].click();\r\n\t};\r\n\r\n\tsetVisible = () => {\r\n\t\tthis.setState({ visibleModal: true });\r\n\t};\r\n\r\n\tsaveDbEntryRef = (reference) => {\r\n\t\tthis.setState({ dataBaseRef: reference });\r\n\t};\r\n\r\n\thandleInitialOk = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tvisibleModal: false,\r\n\t\t\treadyToPause: false\r\n\t\t});\r\n\t\tdocument.getElementsByClassName('ytp-play-button ytp-button')[0].click();\r\n\t\tdocument.querySelector('video').addEventListener('ended', () => {\r\n\t\t\tthis.setState({ endOfVideo: true });\r\n\t\t});\r\n\t};\r\n\r\n\thandleEndOk = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tvisibleModal: false,\r\n\t\t\tendOfVideo: false\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Frame\r\n\t\t\t\thead={[\r\n\t\t\t\t\t<link type=\"text/css\" rel=\"stylesheet\" href={chrome.runtime.getURL('/static/css/content.css')} />,\r\n\t\t\t\t\t<link type=\"text/css\" rel=\"stylesheet\" href={chrome.runtime.getURL('/static/css/3.chunk.css')} />,\r\n\t\t\t\t\t<link type=\"text/css\" rel=\"stylesheet\" href={chrome.runtime.getURL('/static/css/4.chunk.css')} />\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<FrameContextConsumer>\r\n\t\t\t\t\t{({ document, window }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.visibleModal && (\r\n\t\t\t\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Youtube Noter\"\r\n\t\t\t\t\t\t\t\t\t\tvisible={this.state.visibleModal}\r\n\t\t\t\t\t\t\t\t\t\tonOk={this.handleInitialOk}\r\n\t\t\t\t\t\t\t\t\t\tfooter={null}\r\n\t\t\t\t\t\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<StartOfVideoForm\r\n\t\t\t\t\t\t\t\t\t\t\tgetDatabaseRef={this.saveDbEntryRef}\r\n\t\t\t\t\t\t\t\t\t\t\tpauseVideo={this.pauseVideo}\r\n\t\t\t\t\t\t\t\t\t\t\treadyToPause={this.state.pauseVideo}\r\n\t\t\t\t\t\t\t\t\t\t\tuserId={this.state.userId}\r\n\t\t\t\t\t\t\t\t\t\t\tvideoMetadata={this.state.videoMetadata}\r\n\t\t\t\t\t\t\t\t\t\t\tonClose={this.handleInitialOk}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{this.state.endOfVideo && (\r\n\t\t\t\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Youtube Noter\"\r\n\t\t\t\t\t\t\t\t\t\tvisible={this.state.endOfVideo}\r\n\t\t\t\t\t\t\t\t\t\tonOk={this.handleEndOk}\r\n\t\t\t\t\t\t\t\t\t\tfooter={null}\r\n\t\t\t\t\t\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<EndOfVideoForm\r\n\t\t\t\t\t\t\t\t\t\t\tdatabaseKey={this.state.dataBaseRef}\r\n\t\t\t\t\t\t\t\t\t\t\tonClose={this.handleEndOk}\r\n\t\t\t\t\t\t\t\t\t\t\tuserId={this.state.userId}\r\n\t\t\t\t\t\t\t\t\t\t\tvideoMetadata={this.state.videoMetadata}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t</FrameContextConsumer>\r\n\t\t\t</Frame>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst app = document.createElement('div');\r\napp.id = 'my-extension-root';\r\ndocument.body.appendChild(app);\r\nReactDOM.render(<Main />, app);\r\n"],"sourceRoot":""}