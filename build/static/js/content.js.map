{"version":3,"sources":["../webpack/bootstrap","Utils/YoutubeCategoryMapping.js","Utils/TimeCalculations.js","ObjectLibrary/InitialSession.js","ModalExtension/Components/StartOfVideoForm.jsx","ObjectLibrary/EndSession.js","ModalExtension/Components/EndOfVideoForm.jsx","ModalExtension/Models/VideoMetadata.js","content.js","requests/StoreReview.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","YoutubeCategoryMapping","classCallCheck","this","createClass","number","category","TimeCalculations","startTime","endTime","expectedDuration","obtainTotalActualVideoDuration","time","readableTime","moment","hour","format","durationInSeconds","obtainDurationSeconds","seconds","asSeconds","duration","durationSeconds","minutes","Math","trunc","concat","InitialSession","videoTitle","videoURL","purposeDescription","finishedVideo","obtainCurrentTime","Panel","Collapse","ChromeClass","props","_this","possibleConstructorReturn","getPrototypeOf","state","videoType","purpose","initialRating","onChange","setState","onSave","Session","videoMetadata","url","StoreReview","storeInitialReview","userId","session","onClose","notification","open","message","description","icon","react_default","a","createElement","type","style","color","zIndex","marginTop","isProcastinationVideo","Number","videoCategory","Fragment","es_alert","showIcon","divider","orientation","_this2","warnProcastination","es_form","Item","label","input","placeholder","event","target","es_button","onClick","collapse","bordered","header","videoDescription","formatSecondsToMinutes","videoDuration","getYoutubeCategoryText","React","Component","EndSession","notes","endRating","endSession","storeEndReview","databaseKey","VideoMetadata","Main","visibleModal","pauseVideo","endOfVideo","dataBaseRef","obtainMetadata","request","metadata","asyncToGenerator","regenerator_default","mark","_callee","currentMetadata","wrap","_context","prev","next","console","log","currentURL","snippet","title","contentDetails","categoryId","stop","obtainUserProfile","_callee2","_context2","Error","modalCheck","document","getElementsByClassName","click","setVisible","saveDbEntryRef","reference","handleInitialOk","e","readyToPause","querySelector","addEventListener","handleEndOk","chrome","runtime","onMessage","addListener","prevProp","prevState","setTimeout","removeListener","lib_default","head","rel","href","getURL","lib","_ref3","modal","visible","onOk","footer","maskClosable","closable","StartOfVideoForm_ChromeClass","getDatabaseRef","EndOfVideoForm_ChromeClass","app","id","body","appendChild","ReactDOM","render","content_Main","C_Users_user_Desktop_youtubeextension_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_user_Desktop_youtubeextension_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","JSON","stringify","fetch","method","headers","Content-Type","Accept","Access-Control-Request-Headers","Access-Control-Request-Method","then","response","catch"],"mappings":"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","file":"static/js/content.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([265,0,3]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export class YoutubeCategoryMapping {\r\n\tstatic getYoutubeCategoryText(number) {\r\n\t\tswitch (number) {\r\n\t\t\tcase 1:\r\n\t\t\t\treturn 'Film & Animation';\r\n\t\t\tcase 2:\r\n\t\t\t\treturn 'Autos & Vehicles';\r\n\t\t\tcase 10:\r\n\t\t\t\treturn 'Music';\r\n\t\t\tcase 15:\r\n\t\t\t\treturn 'Pets & Animals';\r\n\t\t\tcase 17:\r\n\t\t\t\treturn 'Sports';\r\n\t\t\tcase 18:\r\n\t\t\t\treturn 'Short Movies';\r\n\t\t\tcase 19:\r\n\t\t\t\treturn 'Travel & Events';\r\n\t\t\tcase 20:\r\n\t\t\t\treturn 'Gaming';\r\n\t\t\tcase 21:\r\n\t\t\t\treturn 'Videoblogging';\r\n\t\t\tcase 22:\r\n\t\t\t\treturn 'People & Blogs';\r\n\t\t\tcase 23:\r\n\t\t\t\treturn 'Comedy';\r\n\t\t\tcase 24:\r\n\t\t\t\treturn 'Entertainment';\r\n\t\t\tcase 25:\r\n\t\t\t\treturn 'News & Politics';\r\n\t\t\tcase 26:\r\n\t\t\t\treturn 'Howto & Styles';\r\n\t\t\tcase 27:\r\n\t\t\t\treturn 'Education';\r\n\t\t\tcase 28:\r\n\t\t\t\treturn 'Science & Technology';\r\n\t\t\tcase 29:\r\n\t\t\t\treturn 'Nonprofits & Activism';\r\n\t\t\tcase 30:\r\n\t\t\t\treturn 'Movies';\r\n\t\t\tcase 31:\r\n\t\t\t\treturn 'Anime / Animation';\r\n\t\t\tcase 32:\r\n\t\t\t\treturn 'Action / Adventure';\r\n\t\t\tcase 33:\r\n\t\t\t\treturn 'Classics';\r\n\t\t\tcase 34:\r\n\t\t\t\treturn 'Comedy';\r\n\t\t\tcase 35:\r\n\t\t\t\treturn 'Documentary';\r\n\t\t\tcase 36:\r\n\t\t\t\treturn 'Drama';\r\n\t\t\tcase 37:\r\n\t\t\t\treturn 'Family';\r\n\t\t\tcase 38:\r\n\t\t\t\treturn 'Foreign';\r\n\t\t\tcase 39:\r\n\t\t\t\treturn 'Horror';\r\n\t\t\tcase 40:\r\n\t\t\t\treturn 'Sci - Fi / Fantasy';\r\n\t\t\tcase 41:\r\n\t\t\t\treturn 'Thriller';\r\n\t\t\tcase 42:\r\n\t\t\t\treturn 'Shorts';\r\n\t\t\tcase 43:\r\n\t\t\t\treturn 'Shows';\r\n\t\t\tcase 44:\r\n\t\t\t\treturn 'Trailers';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Unknown';\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isProcastinationVideo(category) {\r\n\t\tif (\r\n\t\t\tcategory === 1 ||\r\n\t\t\tcategory === 2 ||\r\n\t\t\tcategory === 10 ||\r\n\t\t\tcategory === 15 ||\r\n\t\t\tcategory === 17 ||\r\n\t\t\tcategory === 18 ||\r\n\t\t\tcategory === 19 ||\r\n\t\t\tcategory === 20 ||\r\n\t\t\tcategory === 23 ||\r\n\t\t\tcategory === 24 ||\r\n\t\t\tcategory === 25 ||\r\n\t\t\tcategory === 29 ||\r\n\t\t\tcategory === 30 ||\r\n\t\t\tcategory === 31 ||\r\n\t\t\tcategory === 32 ||\r\n\t\t\tcategory === 33 ||\r\n\t\t\tcategory === 34 ||\r\n\t\t\tcategory === 36 ||\r\n\t\t\tcategory === 37 ||\r\n\t\t\tcategory === 39 ||\r\n\t\t\tcategory === 40 ||\r\n\t\t\tcategory === 41 ||\r\n\t\t\tcategory === 42 ||\r\n\t\t\tcategory === 43 ||\r\n\t\t\tcategory === 44\r\n\t\t) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\r\n","import * as moment from 'moment';\r\nexport default class TimeCalculations {\r\n\t/*\r\n    Calculate the total duration someone spent on a video\r\n    which is independent of total time spent on the actual youtube page. */\r\n\tstatic obtainTotalActualVideoDuration(startTime, endTime) {\r\n\t\tconst actualVideoDuration = endTime - startTime;\r\n\t\treturn actualVideoDuration;\r\n\t}\r\n\r\n\t/**\r\n     * \r\n     * @param {*} startTime \r\n     * @param {*} endTime \r\n     * @param {*} expectedDuration \r\n     */\r\n\tstatic obtainDifferenceInDurationExpectation(startTime, endTime, expectedDuration) {\r\n\t\tconst actualVideoDuration = this.obtainTotalActualVideoDuration(startTime, endTime);\r\n\t\tconst durationDifferences = actualVideoDuration - expectedDuration;\r\n\t\treturn durationDifferences;\r\n\t}\r\n\r\n\tstatic formatReadableTime(time) {\r\n\t\tconst readableTime = moment(time);\r\n\t\tif (readableTime.hour !== null || readableTime !== 0) {\r\n\t\t\treturn readableTime.format('HH:mm:ss');\r\n\t\t} else {\r\n\t\t\treturn readableTime.format('mm:ss');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic formatReadableDuration(time) {\r\n\t\tconst durationInSeconds = this.obtainDurationSeconds(time);\r\n\t\tconst formattedDuration = moment().seconds(durationInSeconds).format('H mm:ss');\r\n\t\treturn formattedDuration;\r\n\t}\r\n\r\n\tstatic obtainDurationSeconds(time) {\r\n\t\tconst readableDuration = moment.duration(time, moment.ISO_8601);\r\n\t\treturn readableDuration.asSeconds();\r\n\t}\r\n\r\n\tstatic obtainCurrentTime() {\r\n\t\treturn moment().format('MMM/DD/YYYY HH:mm:ss');\r\n\t}\r\n\r\n\tstatic formatSecondsToMinutes(duration) {\r\n\t\tconst durationSeconds = this.obtainDurationSeconds(duration);\r\n\t\tconst seconds = durationSeconds % 60;\r\n\t\tconst minutes = Math.trunc(durationSeconds / 60);\r\n\t\treturn `${minutes} Minutes ${seconds} Seconds`;\r\n\t}\r\n}\r\n","import TimeCalculations from '../Utils/TimeCalculations';\r\n\r\nexport default class InitialSession {\r\n\tvideoTitle;\r\n\tvideoURL;\r\n\tpurposeDescription;\r\n\tstartTime;\r\n\tfinishedVideo;\r\n\r\n\tconstructor(videoTitle, videoURL, purposeDescription, finishedVideo) {\r\n\t\tthis.videoTitle = videoTitle;\r\n\t\tthis.videoURL = videoURL;\r\n\t\tthis.purposeDescription = purposeDescription;\r\n\t\tthis.startTime = TimeCalculations.obtainCurrentTime();\r\n\t\tthis.finishedVideo = finishedVideo;\r\n\t}\r\n}\r\n","/*global chrome*/\r\n/* src/content.js */\r\nimport React from 'react';\r\nimport { Form, Input, Button, Collapse, Alert, Divider, notification, Icon } from 'antd';\r\nimport { StoreReview } from '../../requests/StoreReview';\r\nimport '../../content.scss';\r\nimport { YoutubeCategoryMapping } from '../../Utils/YoutubeCategoryMapping';\r\nimport InitialSession from '../../ObjectLibrary/InitialSession';\r\nimport TimeCalculations from '../../Utils/TimeCalculations';\r\n\r\nconst Panel = Collapse.Panel;\r\n\r\nexport default class ChromeClass extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tstate = {\r\n\t\tvideoType: '',\r\n\t\tpurpose: '',\r\n\t\tinitialRating: ''\r\n\t};\r\n\r\n\tonChange = (value) => {\r\n\t\tthis.setState({ purpose: value });\r\n\t};\r\n\r\n\tonSave = () => {\r\n\t\tif (this.state.purpose == null || this.state.purpose.length < 25) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst Session = [\r\n\t\t\tnew InitialSession(\r\n\t\t\t\tthis.props.videoMetadata.videoTitle,\r\n\t\t\t\tthis.props.videoMetadata.url,\r\n\t\t\t\tthis.state.purpose,\r\n\t\t\t\tfalse\r\n\t\t\t)\r\n\t\t];\r\n\t\tStoreReview.storeInitialReview({ userId: this.props.userId, session: Session });\r\n\t\tthis.props.onClose();\r\n\t\tnotification.open({\r\n\t\t\tmessage: 'Saved Succesfully',\r\n\t\t\tdescription: 'Remember to use your time wisely!',\r\n\t\t\ticon: <Icon type=\"smile\" style={{ color: '#108ee9' }} />,\r\n\t\t\tstyle: { zIndex: 2147483647, marginTop: 100 }\r\n\t\t});\r\n\t};\r\n\r\n\twarnProcastination() {\r\n\t\tif (!YoutubeCategoryMapping.isProcastinationVideo(Number(this.props.videoMetadata.videoCategory))) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Procastination Warning\"\r\n\t\t\t\t\tdescription=\"Are you sure you want to view this video? You might just be procastinating!\"\r\n\t\t\t\t\ttype=\"warning\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t\t<Divider orientation=\"left\">Content</Divider>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.warnProcastination()}\r\n\t\t\t\t{this.props.videoMetadata.videoTitle}\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Form.Item label={'Purpose of Watching'}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tplaceholder=\"Purpose of watching this video.\"\r\n\t\t\t\t\t\t\tvalue={this.state.purpose}\r\n\t\t\t\t\t\t\tonChange={(event) => this.onChange(event.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Button onClick={this.onSave}>Log Session</Button>\r\n\t\t\t\t<Divider orientation=\"left\">Video Info</Divider>\r\n\t\t\t\t<Collapse bordered={false}>\r\n\t\t\t\t\t<Panel header=\"Description\" key=\"1\">\r\n\t\t\t\t\t\t{`Description: ${this.props.videoMetadata.videoDescription}`}\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t\t<Panel header=\"Duration\" key=\"2\">\r\n\t\t\t\t\t\t{`Duration: ${TimeCalculations.formatSecondsToMinutes(this.props.videoMetadata.videoDuration)}`}\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t\t<Panel header=\"Category\" key=\"3\">\r\n\t\t\t\t\t\t{`Category: ${YoutubeCategoryMapping.getYoutubeCategoryText(\r\n\t\t\t\t\t\t\tNumber(this.props.videoMetadata.videoCategory)\r\n\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t\t<Panel header=\"Link\" key=\"4\">\r\n\t\t\t\t\t\t{`From link: ${this.props.videoMetadata.url}`}\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t</Collapse>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import TimeCalculations from '../Utils/TimeCalculations';\r\nexport default class EndSession {\r\n\tuserId;\r\n\tfinishedVideo;\r\n\tendTime;\r\n\tnotes;\r\n\tconstructor(userId, finishedVideo, notes) {\r\n\t\tthis.userId = userId;\r\n\t\tthis.finishedVideo = finishedVideo;\r\n\t\tthis.endTime = TimeCalculations.obtainCurrentTime();\r\n\t\tthis.notes = notes;\r\n\t}\r\n}\r\n","/*global chrome*/\r\n/* src/content.js */\r\nimport React from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { StoreReview } from '../../requests/StoreReview';\r\nimport '../../content.scss';\r\nimport EndSession from '../../ObjectLibrary/EndSession';\r\n\r\nexport default class ChromeClass extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tstate = {\r\n\t\tvideoType: '',\r\n\t\tnotes: '',\r\n\t\tendRating: ''\r\n\t};\r\n\r\n\tonChange = (value) => {\r\n\t\tthis.setState({ notes: value });\r\n\t};\r\n\r\n\tonSave = () => {\r\n\t\tconst endSession = new EndSession(this.props.userId, true, this.state.notes);\r\n\t\tStoreReview.storeEndReview(endSession, this.props.databaseKey);\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.props.videoMetadata.videoTitle}\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Form.Item label={'What did you learn?'}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tplaceholder=\"Enter notes\"\r\n\t\t\t\t\t\t\tvalue={this.state.notes}\r\n\t\t\t\t\t\t\tonChange={(event) => this.onChange(event.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Button onClick={this.onSave}>Log Session</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","export default class VideoMetadata {\r\n\turl = '';\r\n\tvideoTitle = '';\r\n\tvideoDuration = 0;\r\n\tvideoDescription = '';\r\n\tvideoCategory = 0;\r\n\tconstructor(url, videoTitle, videoDuration, videoDescription, videoCategory) {\r\n\t\tthis.url = url;\r\n\t\tthis.videoTitle = videoTitle;\r\n\t\tthis.videoDuration = videoDuration;\r\n\t\tthis.videoDescription = videoDescription;\r\n\t\tthis.videoCategory = videoCategory;\r\n\t}\r\n}\r\n","/*global chrome*/\r\n/* src/content.js */\r\n\r\nimport Frame, { FrameContextConsumer } from 'react-frame-component';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport StartOfVideoForm from './ModalExtension/Components/StartOfVideoForm';\r\nimport EndOfVideoForm from './ModalExtension/Components/EndOfVideoForm';\r\nimport { Modal } from 'antd';\r\nimport VideoMetadata from './ModalExtension/Models/VideoMetadata';\r\nimport './content.scss';\r\n\r\nclass Main extends React.Component {\r\n\tstate = {\r\n\t\tuserId: '',\r\n\t\tvisibleModal: false,\r\n\t\tpauseVideo: false,\r\n\t\turl: '',\r\n\t\tvideoMetadata: {},\r\n\t\tendOfVideo: false,\r\n\t\tdataBaseRef: ''\r\n\t};\r\n\r\n\tobtainMetadata = (request) => {\r\n\t\tif (request.type === 'updatedLink') {\r\n\t\t\tthis.setState({ videoMetadata: request.metadata }, async () => {\r\n\t\t\t\tconsole.log(request);\r\n\t\t\t\tconst currentMetadata = new VideoMetadata(\r\n\t\t\t\t\trequest.currentURL,\r\n\t\t\t\t\tthis.state.videoMetadata.snippet.title,\r\n\t\t\t\t\tthis.state.videoMetadata.contentDetails.duration,\r\n\t\t\t\t\tthis.state.videoMetadata.snippet.description,\r\n\t\t\t\t\tthis.state.videoMetadata.snippet.categoryId\r\n\t\t\t\t);\r\n\t\t\t\tthis.setState({ videoMetadata: currentMetadata, visibleModal: true });\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tobtainUserProfile = (request) => {\r\n\t\tif (request.type === 'userProfile') {\r\n\t\t\tthis.setState({ userId: request.userId }, async () => {\r\n\t\t\t\tif (this.state.userId === null || this.state.userId === '') {\r\n\t\t\t\t\tthrow new Error('cannot handle empty userId');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tchrome.runtime.onMessage.addListener(this.obtainMetadata);\r\n\t\tchrome.runtime.onMessage.addListener(this.obtainUserProfile);\r\n\t\tchrome.runtime.onMessage.addListener(this.modalCheck);\r\n\t}\r\n\r\n\tcomponentWillUpdate(prevProp, prevState) {\r\n\t\tif (prevState.url !== this.state.url) {\r\n\t\t\tsetTimeout(this.pauseVideo, 2000);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tchrome.runtime.onMessage.removeListener(this.obtainMetadata);\r\n\t\tchrome.runtime.onMessage.removeListener(this.obtainUserProfile);\r\n\t\tchrome.runtime.onMessage.removeListener(this.modalCheck);\r\n\t}\r\n\r\n\tmodalCheck = (request) => {\r\n\t\tif (request.type === 'noModal') {\r\n\t\t\tif (this.state.visibleModal === true) {\r\n\t\t\t\tthis.setState({ visibleModal: false });\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tpauseVideo = () => {\r\n\t\tdocument.getElementsByClassName('ytp-play-button ytp-button')[0].click();\r\n\t};\r\n\r\n\tsetVisible = () => {\r\n\t\tthis.setState({ visibleModal: true });\r\n\t};\r\n\r\n\tsaveDbEntryRef = (reference) => {\r\n\t\tthis.setState({ dataBaseRef: reference });\r\n\t};\r\n\r\n\thandleInitialOk = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tvisibleModal: false,\r\n\t\t\treadyToPause: false\r\n\t\t});\r\n\t\tdocument.getElementsByClassName('ytp-play-button ytp-button')[0].click();\r\n\t\tdocument.querySelector('video').addEventListener('ended', () => {\r\n\t\t\tthis.setState({ endOfVideo: true });\r\n\t\t});\r\n\t};\r\n\r\n\thandleEndOk = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tvisibleModal: false,\r\n\t\t\tendOfVideo: false\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Frame\r\n\t\t\t\thead={[\r\n\t\t\t\t\t<link type=\"text/css\" rel=\"stylesheet\" href={chrome.runtime.getURL('/static/css/content.css')} />,\r\n\t\t\t\t\t<link type=\"text/css\" rel=\"stylesheet\" href={chrome.runtime.getURL('/static/css/0.chunk.css')} />,\r\n\t\t\t\t\t<link type=\"text/css\" rel=\"stylesheet\" href={chrome.runtime.getURL('/static/css/4.chunk.css')} />\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<FrameContextConsumer>\r\n\t\t\t\t\t{({ document, window }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.visibleModal && (\r\n\t\t\t\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Youtube Noter\"\r\n\t\t\t\t\t\t\t\t\t\tvisible={this.state.visibleModal}\r\n\t\t\t\t\t\t\t\t\t\tonOk={this.handleInitialOk}\r\n\t\t\t\t\t\t\t\t\t\tfooter={null}\r\n\t\t\t\t\t\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<StartOfVideoForm\r\n\t\t\t\t\t\t\t\t\t\t\tgetDatabaseRef={this.saveDbEntryRef}\r\n\t\t\t\t\t\t\t\t\t\t\tpauseVideo={this.pauseVideo}\r\n\t\t\t\t\t\t\t\t\t\t\treadyToPause={this.state.pauseVideo}\r\n\t\t\t\t\t\t\t\t\t\t\tuserId={this.state.userId}\r\n\t\t\t\t\t\t\t\t\t\t\tvideoMetadata={this.state.videoMetadata}\r\n\t\t\t\t\t\t\t\t\t\t\tonClose={this.handleInitialOk}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{this.state.endOfVideo && (\r\n\t\t\t\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Youtube Noter\"\r\n\t\t\t\t\t\t\t\t\t\tvisible={this.state.endOfVideo}\r\n\t\t\t\t\t\t\t\t\t\tonOk={this.handleEndOk}\r\n\t\t\t\t\t\t\t\t\t\tfooter={null}\r\n\t\t\t\t\t\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<EndOfVideoForm\r\n\t\t\t\t\t\t\t\t\t\t\tdatabaseKey={this.state.dataBaseRef}\r\n\t\t\t\t\t\t\t\t\t\t\tonClose={this.handleEndOk}\r\n\t\t\t\t\t\t\t\t\t\t\tuserId={this.state.userId}\r\n\t\t\t\t\t\t\t\t\t\t\tvideoMetadata={this.state.videoMetadata}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t</FrameContextConsumer>\r\n\t\t\t</Frame>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst app = document.createElement('div');\r\napp.id = 'my-extension-root';\r\ndocument.body.appendChild(app);\r\nReactDOM.render(<Main />, app);\r\n","export class StoreReview {\r\n\tstatic storeInitialReview(session) {\r\n\t\tconsole.log(JSON.stringify(session));\r\n\t\tfetch('http://localhost:3001/test', {\r\n\t\t\tmethod: 'post',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAccept: '*',\r\n\t\t\t\t'Access-Control-Request-Headers': '*',\r\n\t\t\t\t'Access-Control-Request-Method': '*'\r\n\t\t\t},\r\n\t\t\tmode: 'cors',\r\n\t\t\tbody: JSON.stringify(session)\r\n\t\t})\r\n\t\t\t.then(function(response) {\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t});\r\n\t}\r\n}\r\n"],"sourceRoot":""}